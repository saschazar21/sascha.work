---
layout: default.njk
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-okaidia.min.css" integrity="sha256-zzHVEO0xOoVm0I6bT9v5SgpRs1cYNyvEvHXW/1yCgqU=" crossorigin="anonymous" data-helmet="prism-theme"/>

{% set experience %}
{% include "src/_data/experience.json" %}
{% endset %}

{% set experience = experience | json %}
{% set experience = experience | modify('data.education', experience.data.education[0]) | modify('data.work', experience.data.work[0]) | stringify %}

{% set social %}
{% include "src/_data/social.json" %}
{% endset %}

{% set social = social | json %}
{% set social = social | modify('data', social.data[0]) | stringify %}

{% set snippets = [experience, null, social] %}

{% set segments %}
[
  {
    "name": "experience",
    "description": "This endpoint contains all my educational- and work experience, including the university- and company name, position, and timeline. It is used to generate some contents of the <a href=\"/about/?utm_content=api-docs\">About</a> page.",
    "url": "/experience.json",
    "method": "GET",
    "response": {
      "status": 200
    }
  },
  {
    "name": "feed",
    "description": "This endpoint contains a <a href=\"https://www.jsonfeed.org/\" rel=\"noindex nofollow\" target=\"_blank\">JSON Feed 1.1</a>-conform feed of my latest articles.",
    "url": "/feed.json",
    "method": "GET",
    "response": {
      "status": 200
    }
  },
  {
    "name": "social",
    "description": "This endpoint contains a JSON object with all my social media accounts, including the URL and user name. It is used to generate the Social Media section in the footer.",
    "url": "/social.json",
    "method": "GET",
    "response": {
      "status": 200
    }
  }
]
{% endset %}

<h1>API Docs</h1>

<p>
  This website contains some full-featured JSON API v1-conform endpoints.
  Those contain mainly static information, but are recreated during every deployment for staying up to date.
</p>

{% for segment in segments | json %}
  <section>
    <h2>
      <a href="{{ segment.url }}" target="_blank">
        <code>{{ segment.url }}</code>
      </a>
    </h2>
    <p>
      {{ segment.description | safe }}
    </p>
    <h3>Method</h3>
    <p>{{ segment.method }}</p>
    <h3>Response</h3>
    <p>Status: {{ segment.response.status }}</p>
    {% if snippets[loop.index0] %}
      {% highlight "json" %}
      {{ snippets[loop.index0] | safe }}
      {% endhighlight %}
    {% endif %}
  </section>
{% endfor %}